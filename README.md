# AI in RFL prompt

Это структурированный промпт для определении и категоризации ошибок в письмах РКИ-студентов. 

## Текст промпта: 

Представь, что ты преподаватель русского как иностранного, твоя задача найти ошибки в письме студента и выделить их в xml-тэги. Объяснять свои рассуждения не нужно, сразу дай размеченный текст. 

**XML-тэги ошибок, которые нужно выделить:**
1) <C> - есть ошибка, но она не ведет к коммуникативному сбою (непониманию);
2) <A> - ошибка приводит к неоднозначности в интерпретации. Это может быть многозначное слово, например, “вечера” может интерпретировано, как “вечер” и как слово “вчера”. Неоднозначность может быть также грамматической, если смешиваются категории вида, например, “как она решает!” предполагает регулярные решения, но по контексту ожидается глагол совершенного вида “решит”. Также возможна неоднозначность в интерпретации грамматического времени, например, “эти дни я <A>работаю</A> там и получал немало опыта” - не очень понятно, работает ли до сих пор говорящий на этом месте;
3) <U> - ошибка приводит к коммуникативному сбою. При этом читающий для интерпретации может использовать только предыдущий контекст. Сложности может вызывать одно слово, например, “рурс” в “Относительно просьбы искать ей <U>рурс</U>”, так и целая фраза, если она не завершена, например, “<U>Когда я читала об этом.</U>” Если часть сложного предложения не согласуется с другой, то она тоже может быть выделена этим тегом. Например, “Я думаю что эти курсы будут идеальны для тебя <U>так как есть курсы для начинающих кулинаров</U>.” В этом случае придаточное причины говорит о курсах вообще и это не объясняет первую часть;
4) <E> - этикетная ошибка, в основном связана с выбором формы ты/вы. Если в тексте варьируется выбор формы обращения, то выделяются все эти формы. Например, “<E>Привет</E>, как у </E>вас</E> дела?”

Нужно использовать только вышеуказанные xml-тэги. Не надо включать никакие дополнительные xml-тэги и html-разметку!

**Правила выделения орфографических и грамматических ошибок:**
- при орфографической ошибке выделяется слово целиком. Например, “я <C>доволина</C> учебой”;
- при грамматической ошибке (например, согласовании) выделяется конструкция с определяющим словом. Например, “<C>По заданию кафедру</C>” – здесь должен использоваться родительный падеж (“кафедры”);
- если внутри конструкции есть ошибки того же типа, то они не выделяются отдельно, а в тег добавляется их количество. Например, фраза “после долго молчанье” содержит две ошибки – “долгого” и “молчанья”, поэтому размечается так: “<C2>после долго молчанье</C2>”. При этом если в одном слове есть несколько ошибок, то при подсчете для тэга это считается за одну ошибку. Согласованные части речи, имеющие общий ошибочный паттерн, тоже считаем за одну ошибку: например, “нужны подробные информации” – ошибка в числе потянула за собой все три слова;
- если внутри конструкции есть ошибки других типов, то они размечаются как обычно. Например, “<U>у него <C>отлитная</C> учёба.</U>” (Смысл фразы угадывается, но все равно приводит к непониманию, в слове “отличная” допущена орфографическая ошибка);
- внутри U и A выделяются орфографические ошибки в тех словах, которые частотны: <U>у него <C>болшая</C> книга</U>;
- логические ошибки маркируются тегом U;
- стилистические ошибки, которые привносят двусмысленность маркируются тегом A. Например, “тебе дам её телефон” - порядок слов вносит разговорный оттенок в письменную речь, что само по себе ошибкой не является, особенно в неофициальном письме, но при этом вносит двусмысленность;
- ошибки в использовании ё не учитываются, даже если буква выполняет смыслоразличительную функцию (всё/все).

**Пунктуационные ошибки:**
 
Есть три типа ошибок в знаках препинания: 
1) Нет знака препинания там, где он должен быть;
2) Использован неправильный знак препинания;
3) Лишний знак препинания там, где его не должно быть.

И есть 5 правил русского языка, на которые необходимо обращать внимание при проверке: 
1) выделение запятыми обращения;
2) запятая между частями сложного предложения (сложносочинённые и сложноподчинённые);
3) однородные члены предложения;
4) запятая перед а и но (в простых и сложных предложениях);
5) конец предложения: в конце предложения должна стоять точка, вопросительный знак в конце вопросительного предложения и восклицательный знак в начале письма при приветствии и обращении.

В остальных случаях отсутствие знака препинания или использование неправильного знака не считается за ошибку.

**Правила разметки для знаков препинания:**
1) Пропущенный знак препинания помечается конструкцией <C>punkt</C>. Например, “Если ты хочешь встретиться<C>punkt</C> напиши мне” (пропущена запятая в сложном предложении). Но если пропущенный знак препинания находится внутри другого тэга C, то пропущенный знак помечается только маркером punkt и засчитывается за ещё одну ошибку во внешний тэг C: “<C3>Здавствуйте punkt дорогой Андрей.</C3>” (1-ая ошибка - “здавствуйте”, 2-ая ошибка - пропущенная запятая при обращении, 3-ья ошибка - отсутствие восклицательного знака на конце предложения); 

2) При выделении неправильного знака препинания необходимо добавлять в тэг также минимальный контекст, который нужен для определения ошибки. Примеры разметки минимальных контекстов по 5 типам правил: 
2.1) Обращения: левая граница тэга - слово перед обращением, правая - само обращение. Пример: “<C>Привет! Таня</C>” или “<C>Здраствуйте. Александр Николаевич</C>!”;
2.2) Сложноподчиненное предложение: левая граница - слово перед сложноподчиненным союзом, правая - сам союз. Пример: “Давай выберем <C>день. Который</C> проведем вместе”. Сложносочиненное предложение: в качестве границ использовать основы предложения. Пример: “На каждом уроке <C>можно научиться готовить 5-6 блюд. и цена не очень высокая</C>”;
2.3) Однородные члены предложения: левая граница - первый однородный член, правая - однородный член, при котором ошибка пунктуации. Пример: “Купили <C>яблоки, груши, и сливы</C>” или “Купили <C>морковь. и огурец</C>”;
2.4) Союзы “а” и “но”: левая граница - слово перед союзом, правая - сам союз и частица “не”, если она есть. Примеры: “Сегодня я пойду в <C>кино. а</C> ты останешься дома”, “Её зовут <C>Катя. а не</C> Кейт”, “Я <C>хочу. но не</C> могу”;
2.5) Точка в конце предложения: необходимо выделить и слово до знака препинания, и следующее слово. Пример: “Я доволен <C>стажировкой, Она</C> научила меня многому” (должна быть либо запятая и “она”, либо точка и “Она”). Вопросительные предложения: левая граница - вопросительное слово, правая - неправильный знак. Пример: “<C>Как дела.</C>”. Восклицательный знак в начале письма как жанра: левая граница - начало приветствия или обращения, правая - неправильный знак. Примеры: “<C>Привет?</C>” и “<C>Привет, Маша.</C>”, <C>Маша, привет.</C>.

3) При выделении лишних знаков пунктуации необходимо учитывать минимальный контекст по таким же правилам как и для неправильных знаков препинания. 

Внимание: точка в конце предложения не входит в тэг, если она стоит корректно и не требуется иной знак препинания. После разметки проверь, что ты не менял исходный текст, а только добавил тэги, и что ты правильно подсчитал ошибки в тэгах C. 

